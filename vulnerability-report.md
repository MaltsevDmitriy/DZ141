# Vunerability Report

#### Reviewer 1:
#### Reviewer 2:
#### Reviewer 3:
#### Date: April 26, 2016

### Reviewing nVisium Task Manager

# Vunerability 1 - Injection

### Exposure

We found that if we were to upload a photo and passed SQL commands as the file name, we were able to make acual SQL commands on the backend. This allows use to view and compromise infomation that would considered sensitive. For example we used the file name:

```
adminPW',(select password from auth_user where username='admin'),2);--
```

we were able to view the admin's hashed password.

### Repair

views.py contained the vulnerability. We were able to fix it with the following adjustments. 

Removed:
```
curs = connection.cursor()
curs.execute(
    "insert into taskManager_file ('name','path','project_id') values ('%s','%s',%s)" %
    (name, upload_path, project_id))
```

and replaced it with:
```
file = File(
name = name,
path = upload_path,
project = proj)
file.save()
```


# Vunerability 1 - Broken Auth

### Exposure

In the forms.py the admin had excluded fields as opposed to including only the fields that they wanted on the form. This made them forget to include, "is_superuser", and "is_staff". 
```
exclude = ['groups', 'user_permissions', 'last_login', 'date_joined', 'is_active']
```

### Repair

We changed the excludes list in forms.py to fields, and inputed the fields on the form. This allowed us to force the user to only input what we told them.
```
fields = ['username', 'first_name', 'last_name', 'password', 'email']
```
