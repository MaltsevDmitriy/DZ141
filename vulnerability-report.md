#### Reviewer: Sera Smith

#### Date: Feb. 4, 2017

### Find Vulnerabilities in nVisium Task Manager:

## Vulnerability 1 - SQL injection

This vulnerability allowed access and exploitation of the database, where it is possible to retrieve data or drop tables, due to raw SQL commands being used. 
The hashed database admin password was also accessible.

Running the SQL comman: ```INSERT INTO taskManager_file ('name','path','project_id') VALUES ('testPic',(SELECT password FROM auth_user WHERE username='admin'),8);--,...``` which allows the upload of the sensitive file as a "photo".


##Repair

To fix this vulnerability, ORM should be used instead of direct SQL and methods like curs.execute().

Specifically: 
``` 
file = File(name=name, path=upload_path, project=proj)
file.save()
```

## Vulnerability 2 - Broken Authentication

User can gain Superuser status upon registration, meaning any user can have admin rights. This can allow any user to steal sensitive data such as other users' email, and even delete entire accounts. 

##Repair

Forms.py should have _include_ or _fields_ list instead of _excludes_, listing what the user must have instead of remembering all the fields to exclude. _Excludes_ is much easier to miss an important field that could expose a security risk. 

Specifically:

Instead of : 
```
exclude = ['groups', 'user_permissions', 'last_login', 'date_joined', 'is_active']
```

Could be:
```
fields = ['username', 'first_name', 'last_name', 'password', 'email']
```

which would make admin rights only available to Superusers.


## Vulnerability 3  - Cross Site Scripting (XSS)

Templates displaying the username as 'safe' allowed access of a username and able to execute the username as code in a different language or even HTML.

## Repair
Change template to not use the 'safe' option.

Instead of: 
```
{{ user.username|safe }}
```

Use:
```
{{ user.username }}
```

## Vulnerability 4










