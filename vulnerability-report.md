# A1 - Injection
## How you found and exploited the vulnerability, including the code/method you used?
creating an image with sql in the file name allows us to create an image that when clicked
exposes the hashed username and password in the Django error message

## What you were able to do with the vulnerability (i.e. what was exposed?)


## The code that fixes the vulnerability



# A2 - Broken Auth
## How you found and exploited the vulnerability, including the code/method you used
Copy an input button and add checkboxes to the form for is_admin and is_staff and then check them when you create 
a user. You can now use those credentials to log in to the site.
<button class="btn btn-danger" type="is_staff">Register</button>
<button class="btn btn-danger" type="is_admin">Register</button>

## What you were able to do with the vulnerability (i.e. what was exposed?)


## The code that fixes the vulnerability


# A3 - XSS
## How you found and exploited the vulnerability, including the code/method you used
Edit your user profile to the following script. now when you browse the site where your
username is shown the followings script will run.
<script>alert('you just got hacked foo')</script>


## What you were able to do with the vulnerability (i.e. what was exposed?)
remove the |safe from the form field.


## The code that fixes the vulnerability


# A4 - Insecure DOR
## How you found and exploited the vulnerability, including the code/method you used
Login with a user. Create a task, check the project id and task. You will then log in with a different user 
and then delete that for the user by running the route to delete
example this is task 22 on project 2:
http://localhost:8000/taskManager/2/task_edit/22 (logged in as user 1)
http://localhost:8000/taskManager/2/task_delete/22 (log in with a different, user 2, and run this route)
http://localhost:8000/taskManager/2/task_edit/22 (item no longer exists for user 1)



## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability


# A5 - Security Misconfiguration
## How you found and exploited the vulnerability, including the code/method you used
Hitting a random route will expose all the potential routes.
example:
http://localhost:8000/taskManager/dashboard/lkh


## What you were able to do with the vulnerability (i.e. what was exposed?)



## The code that fixes the vulnerability
update the settings.py to DEBUG = True.
DEBUG = True
TEMPLATE_DEBUG = True


# A6 - Sensitive Data Exposure
## How you found and exploited the vulnerability, including the code/method you used
There is weak hashing algorithm, change the MD5 to something stronger
PASSWORD_HASHERS = ['django.contrib.auth.hashers.MD5PasswordHasher']

## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability
PASSWORD_HASHERS = ['django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher']



# A7 - Missing Function Level Access Control
## How you found and exploited the vulnerability, including the code/method you used
see view.py...
@csrf_exempt
def profile_by_id(request, user_id):


## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability


# A8 - Cross-site Request Forgery (CSRF)
## How you found and exploited the vulnerability, including the code/method you used
Go to the profile, inspect the form for the user, 
http://localhost:8000/taskManager/profile/
copy the <form> from the page, create a new file and change the values. 
Make sure the the action of the form goes to the user ID of the person you viewed:
action="http://localhost:8000/taskManager/profile/2"
example:
/Users/jackbot/codefellows/401/django.nV/taskManager/edit_profile.html


## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability


# A9 - Using Components with Known Vulnerabilities
## How you found and exploited the vulnerability, including the code/method you used
For this one, Django is simply our of date.


## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability
Running the following will tell you what packages are out of date, update those (like Django): 
$ pip list --outdated


# A10 - Insecure Redirect
## How you found and exploited the vulnerability, including the code/method you used
Using the logout button in the upppr right reveals the following url:
http://localhost:8000/taskManager/logout?redirect=/taskManager/
The redirect on that url is not required, we can just hit the /taskmanager/ route directly in the
views.py file by calling redirect.


## What you were able to do with the vulnerability (i.e. what was exposed?)

## The code that fixes the vulnerability
I think just...

Update the 'views.py' file, from:

'''
    def logout_view(request):
        logout(request)
        return redirect(request.GET.get('redirect', '/taskManager/'))
'''

to:


'''
    def logout_view(request):
        logout(request)
        return redirect('/taskManager/')
'''



    
    