# Vulnerability Report
Reviewer 1: Marc Fieser

Reviewer 2: Ford Fowler

Date: Feb 4, 2017

Reviewing nVisium Task Manager


# Vulnerability 1: SQL Injections
Tried to go to 
```
    http://127.0.0.1:8000/taskManager/create
```
but it was not an actual route. The debug is set to True for this site so it basically shows you every route on the site.

This is how we found accsss to :
```
    http://127.0.0.1:8000/taskManager/1/upload/
```
Where their input field for a file is a text box where an attacker can attempt to add inject what ever they would like.

I have tried many of the injections that are examples in the tutorial and I really can't get any of them to return anything to me.  Not sure where the pass word or the drop table would go down. Unsure if I understand what the curs.execute does.

The apparent fix to use the ORM to create a new file object instead of curs.execute.


# Vulnerability 2: Broken Authentication

Was able to access admin profile at:
```
    http://127.0.0.1:8000/taskManager/profile/1
```
 we then changed the email address of the admin profile to our email address and went to the forgor password url:

```
    http://127.0.0.1:8000/taskManager/forgot_password
```

We were able to reset the password through the new email and get access to full admin.

This can be fixed by ensuring that only users that are logged in can update their own profiles.

# Vulnerability 3: Cross-Site Scripting

In base_backend.html where the username dropdown span, taskmanager uses 
```
    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
        <span class="username"><i class="fa fa-user fa-fw"></i> {{ user.username|safe }}</span>
        <b class="caret"></b>
    </a>        
```

which allows for the adding of scripts directly from that input. To fix this you must change the above to 

```
    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
        <span class="username"><i class="fa fa-user fa-fw"></i> {{ user.username }}</span>
        <b class="caret"></b>
    </a>
```

This same bug can also be found in search.html and task_details.html as well


# Vulnerability 4: Insecure DOR
in views.py there are numerous Insecure functions that do not check to see if the user is authenticated in order to make changes to the database.

profile, manage_groups, upload are a few of the functions that need to be secured.


#
